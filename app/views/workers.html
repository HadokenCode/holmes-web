<div class="view status-view status-workers-view">
  <h1>Status</h1>
  <statusbar index="1"></statusbar>

  <div nodata="model.loadedWorkers" nodata-height="350" nodata-size="30" nodata-text="No workers data available">
    <horizontal ng-if="model.workerCount"
      percentage="model.activeWorkersPercentage"
      value="model.activeWorkers"
      total="model.workerCount"
      showtotal="true"
      valuelabel="active workers"
      totallabel="inactive workers"
    >
    </horizontal>

    <ul class="boxes workers">
      <li class="box worker" ng-repeat="worker in model.workers | orderBy:'-last_ping' track by worker.uuid">
        <a href="{{ worker.current_url }}" target="_blank">
          <h2 class="blue ng-binding">{{ worker.domain_name || "idle" }}</h2>
          <p class="url">{{ worker.current_url || "Waiting for new jobs..." }}</p>
          <p class="timeago">last ping: <span class="time" am-time-ago="worker.last_ping*1000"></span> ago</p>
        </a>
      </li>
    </ul>
  </div>

</div>
