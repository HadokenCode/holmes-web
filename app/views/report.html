<div class="report-view">
  <h1>Page: {{ model.details.page.url }}</h1>

  <div class="row stats">
    <div class="col-lg-6">
      <div class="title text-primary">{{ model.details.violationCount }}</div>
      <div class="subtitle">violations</div>
    </div>
    <div class="col-lg-6">
      <div class="title text-primary">{{ model.details.violationPoints }}</div>
      <div class="subtitle">points</div>
    </div>
  </div>

  <div id="violation-points-chart">
     <svg></svg>
  </div>

  <div id="violation-count-chart">
    <svg></svg>
  </div>

  <ul id="reportTabs" class="nav nav-tabs">
    <li class="active"><a data-target="#current-report-facts" data-toggle="tab">Facts</a></li>
    <li><a data-target="#current-report-violations" data-toggle="tab">Violations</a></li>
    <li class=""><a data-target="#see-also" data-toggle="tab">See Also</a></li>
  </ul>

  <div id="reportTabsContent" class="tab-content">

    <div class="tab-pane fade active in" id="current-report-facts">
      <div class="current-report">

        <div class="fact-table">
	  <div class="panel panel-default">
              <div class="panel-heading">Facts</div>
	      <div class="panel-body">
		  <table class="table table-striped table-bordered table-hover reviews">
		    <thead>
		      <tr>
			<th class="violations">Title</th>
			<th class="finished-at">Value</th>
		      </tr>
		    </thead>
		    <tbody>
		      <tr ng-hide="model.details.facts">
			<td colspan="3">No facts for this page yet.</td>
		      </tr>
		      <tr ng-repeat="fact in model.details.facts | filter:{'unit': '!values'}" ng-show="model.details.facts">
			<td>{{ fact.title }}</td>
			<td>{{ fact.value }}</td>
		      </tr>
		    </tbody>
		  </table>
             </div>
          </div>
       </div>

       <div class="fact-table" ng-repeat="fact in model.details.facts | filter:{'unit': 'values'}">
          <div class="panel panel-default">
	    <div class="panel-heading">{{ fact.title }}</div>
            <div class="panel-body">
              <table class="table table-striped table-bordered table-hover">
                <thead>
                  <tr>
                  </tr>
                    <th>Key</th>
		    <th>Property</th>
                    <th>Content</th>
                </thead>
                <tbody>
                  <tr ng-repeat="value in fact.value">
		    <td>{{ value.key }}</td>
		    <td>{{ value.property }}</td>
		    <td>{{ value.content }}</td>
	          </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
    </div> <!-- tab-pane -->

    <div class="tab-pane fade in" id="current-report-violations">
      <div class="current-report">
        <h3>Violations</h3>

        <div class="violations row">
          <div class="col-lg-4" data-ng-repeat="violation in model.details.violations">
              <div class="panel panel-danger">
                <div class="panel-heading">
                  <h3 class="panel-title" title="{{ violation.title }}">
                    <span class="glyphicon glyphicon-home"></span>
                    {{ violation.title }}
                  </h3>
                </div>
                <div class="panel-body">
                  {{ violation.description }}
                </div>
              </div>
          </div>
        </div>
      </div> <!-- current-report -->

    </div> <!-- tab-pane -->

    <div class="tab-pane fade" id="see-also">

      <div class="see-also">
        <h3>See Also</h3>
        <div class="panel panel-default">
          <div class="panel-body">

            <div class="filters form-group col-lg-6 pull-right">
              <div class="input-group">
                <span class="input-group-addon"><span class="glyphicon glyphicon-search"></span></span>
                <input type="text" class="form-control" ns-model="query.url" placeholder="URL to filter">
              </div>
            </div>

            <table class="table table-striped table-bordered table-hover pages">
              <thead>
                <tr>
                  <th>URL</th>
                  <th>Violations</th>
                  <th>Points</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>http://g1.globo.com/politica/noticia/2013/09/servidores-do-senado-pagarao-excedente-de-supersalario-diz-renan.html</td>
                  <td>0</td>
                  <td>0</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/sao-paulo/noticia/2013/09/irmao-confirma-em-juri-que-ex-mulher-mandou-matar-executivo-da-friboi.html</td>
                  <td>47</td>
                  <td>349</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/sao-paulo/noticia/2013/09/irmao-confirma-em-juri-que-ex-mulher-mandou-matar-executivo-da-friboi.html</td>
                  <td>47</td>
                  <td>349</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/sao-paulo/noticia/2013/09/irmao-confirma-em-juri-que-ex-mulher-mandou-matar-executivo-da-friboi.html</td>
                  <td>47</td>
                  <td>349</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/sao-paulo/noticia/2013/09/irmao-confirma-em-juri-que-ex-mulher-mandou-matar-executivo-da-friboi.html</td>
                  <td>47</td>
                  <td>349</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>http://g1.globo.com/economia/noticia/2013/09/cade-abre-processo-para-investigar-cartel-na-venda-de-sal-no-brasil.html</td>
                  <td>25</td>
                  <td>123</td>
                </tr>

              </tbody>
            </table>

            <div class="pager">
              <ul class="pagination">
                <li class="disabled"><a href="#">«</a></li>
                <li class="active"><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5</a></li>
                <li><a href="#">»</a></li>
              </ul>
            </div> <!-- .pager -->

          </div>
        </div>

      </div> <!-- .pages -->
    </div> <!-- tab-pane -->
  </div> <!-- tab-content -->

  <h2 class="pull-left page-reviews-header">Page Reviews <span class="page-reviews-badge badge ng-binding">{{ model.pageCount }}</span></h2>

  <table class="table table-striped table-bordered table-hover reviews">
    <thead>
      <tr>
        <th class="violations">Violations</th>
        <th class="finished-at">Finished At</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-hide="model.reviews">
        <td colspan="3">No reviews made for this page yet.</td>
      </tr>

      <tr ng-repeat="review in model.reviews | orderBy:'violationCount'" ng-show="model.reviews">
	<td class="violations"><a href="#/pages/{{ model.details.page.uuid }}/reviews/{{ review.uuid }}">{{ review.violationCount }}</a></td>
	<td class="finished-at"><a href="#/pages/{{ model.details.page.uuid }}/reviews/{{ review.uuid }}"><span am-time-ago="review.completedDate"></span></a></td>
      </tr>
    </tbody>
  </table>

</div>
